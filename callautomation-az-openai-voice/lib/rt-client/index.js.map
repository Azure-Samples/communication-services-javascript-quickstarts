{"version":3,"file":"index.js","sources":["../../src/models.ts","../../node_modules/tslib/tslib.es6.js","../../src/model-utils.ts","../../node_modules/ws/lib/constants.js","../../node_modules/ws/lib/buffer-util.js","../../node_modules/ws/lib/limiter.js","../../node_modules/ws/lib/permessage-deflate.js","../../node_modules/ws/lib/validation.js","../../node_modules/ws/lib/receiver.js","../../node_modules/ws/lib/sender.js","../../node_modules/ws/lib/event-target.js","../../node_modules/ws/lib/extension.js","../../node_modules/ws/lib/websocket.js","../../node_modules/ws/lib/subprotocol.js","../../node_modules/ws/lib/websocket-server.js","../../src/util/websocket.ts","../../src/util/websocket-client.ts","../../src/util/auth.ts","../../src/util/interfaces.ts","../../src/util/connection-settings.ts","../../src/util/message_queue.ts","../../src/util/crypto.ts","../../src/client.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nexport type AzureStandardVoice = {\n  type: \"azure-standard\";\n  name: string;\n  temperature?: number;\n}\nexport type AzureCustomVoice = {\n  type: \"azure-custom\";\n  name: string;\n  endpoint_id: string;\n  temperature?: number;\n}\nexport type Voice =\n  | \"alloy\"\n  | \"ash\"\n  | \"ballad\"\n  | \"coral\"\n  | \"echo\"\n  | \"sage\"\n  | \"shimmer\"\n  | \"verse\"\n  | AzureStandardVoice\n  | AzureCustomVoice;\nexport type AudioFormat = \"pcm16\" | \"g711-ulaw\" | \"g711-alaw\";\nexport type Modality = \"text\" | \"audio\";\n\nexport interface NoTurnDetection {\n  type: \"none\";\n}\n\nexport interface ServerVAD {\n  type: \"server_vad\";\n  threshold?: number;\n  prefix_padding_ms?: number;\n  silence_duration_ms?: number;\n}\n\nexport interface AzureSemanticVAD {\n  type: \"azure_semantic_vad\";\n  threshold?: number;\n  prefix_padding_ms?: number;\n  silence_duration_ms?: number;\n  remove_filler_words?: boolean;\n  end_of_utterance_detection?: EOUDetection;\n}\n\nexport type TurnDetection = ServerVAD | AzureSemanticVAD | null;\n\nexport interface AzureEOU {\n  model: \"semantic_detection_v1\";\n  threshold?: number;\n}\n\nexport type EOUDetection = AzureEOU | null;\n\nexport interface FunctionToolChoice {\n  type: \"function\";\n  function: string;\n}\n\nexport type ToolChoice = \"auto\" | \"none\" | \"required\" | FunctionToolChoice;\n\nexport type MessageRole = \"system\" | \"assistant\" | \"user\";\n\nexport interface InputAudioTranscription {\n  model: \"whisper-1\" | \"gpt-4o-transcribe\" | \"azure-fast-transcription\";\n  language?: string;\n  prompt?: string;\n}\n\nexport interface AvatarConfigVideoParams {\n  bitrate?: number;\n  codec: \"h264\";\n  crop?: {\n    bottom_right: [number, number];\n    top_left: [number, number];\n  };\n  resolution?: {\n    width: number;\n    height: number;\n  }\n}\n\nexport interface AvatarConfig {\n  ice_servers?: RTCIceServer[];\n  character: string;\n  style?: string;\n  customized?: boolean;\n  video?: AvatarConfigVideoParams;\n}\n\nexport interface ClientMessageBase {\n  event_id?: string;\n}\n\nexport type ToolsDefinition = Record<string, any>[];\n\nexport interface ServerEchoCancellation {\n  type: \"server_echo_cancellation\";\n}\n\nexport interface AzureDeepNoiseSuppression {\n  type: \"azure_deep_noise_suppression\";\n}\n\nexport type InputAudioEchoCancellation = ServerEchoCancellation | null;\n\nexport type InputAudioNoiseReduction = AzureDeepNoiseSuppression | null;\n\nexport interface SessionUpdateParams {\n  model?: string;\n  modalities?: Modality[];\n  voice?: Voice;\n  instructions?: string;\n  input_audio_format?: AudioFormat;\n  output_audio_format?: AudioFormat;\n  input_audio_transcription?: InputAudioTranscription | null;\n  turn_detection?: TurnDetection;\n  tools?: ToolsDefinition;\n  tool_choice?: ToolChoice;\n  temperature?: number;\n  max_response_output_tokens?: number;\n  avatar?: AvatarConfig;\n  input_audio_noise_reduction?: InputAudioNoiseReduction;\n  input_audio_echo_cancellation?: InputAudioEchoCancellation;\n}\n\nexport interface SessionUpdateMessage extends ClientMessageBase {\n  type: \"session.update\";\n  session: SessionUpdateParams;\n}\n\nexport interface InputAudioBufferAppendMessage extends ClientMessageBase {\n  type: \"input_audio_buffer.append\";\n  audio: string;\n}\n\nexport interface InputAudioBufferCommitMessage extends ClientMessageBase {\n  type: \"input_audio_buffer.commit\";\n}\n\nexport interface InputAudioBufferClearMessage extends ClientMessageBase {\n  type: \"input_audio_buffer.clear\";\n}\n\nexport const MessageItemType = \"message\" as const;\nexport type MessageItemType = typeof MessageItemType;\n\nexport interface InputTextContentPart {\n  type: \"input_text\";\n  text: string;\n}\n\nexport interface InputAudioContentPart {\n  type: \"input_audio\";\n  audio: string;\n  transcript?: string;\n}\n\nexport interface OutputTextContentPart {\n  type: \"text\";\n  text: string;\n}\n\nexport type SystemContentPart = InputTextContentPart;\nexport type UserContentPart = InputTextContentPart | InputAudioContentPart;\nexport type AssistantContentPart = OutputTextContentPart;\n\nexport type ItemParamStatus = \"completed\" | \"incomplete\";\n\nexport interface SystemMessageItem {\n  type: MessageItemType;\n  role: \"system\";\n  id?: string;\n  content: SystemContentPart[];\n  status?: ItemParamStatus;\n}\n\nexport interface UserMessageItem {\n  type: MessageItemType;\n  role: \"user\";\n  id?: string;\n  content: UserContentPart[];\n  status?: ItemParamStatus;\n}\n\nexport interface AssistantMessageItem {\n  type: MessageItemType;\n  role: \"assistant\";\n  id?: string;\n  content: AssistantContentPart[];\n  status?: ItemParamStatus;\n}\n\nexport type MessageItem =\n  | SystemMessageItem\n  | UserMessageItem\n  | AssistantMessageItem;\n\nexport interface FunctionCallItem {\n  type: \"function_call\";\n  id?: string;\n  name: string;\n  call_id: string;\n  arguments: string;\n  status?: ItemParamStatus;\n}\n\nexport interface FunctionCallOutputItem {\n  type: \"function_call_output\";\n  id?: string;\n  call_id: string;\n  output: string;\n  status?: ItemParamStatus;\n}\n\nexport type Item = MessageItem | FunctionCallItem | FunctionCallOutputItem;\n\nexport interface ItemCreateMessage extends ClientMessageBase {\n  type: \"conversation.item.create\";\n  previous_item_id?: string;\n  item: Item;\n}\n\nexport interface ItemTruncateMessage extends ClientMessageBase {\n  type: \"conversation.item.truncate\";\n  item_id: string;\n  content_index: number;\n  audio_end_ms: number;\n}\n\nexport interface ItemDeleteMessage extends ClientMessageBase {\n  type: \"conversation.item.delete\";\n  item_id: string;\n}\n\nexport interface ResponseCreateParams {\n  commit?: boolean;\n  cancel_previous?: boolean;\n  append_input_items?: Item[];\n  input_items?: Item[];\n  instructions?: string;\n  modalities?: Modality[];\n  voice?: Voice;\n  temperature?: number;\n  max_output_tokens?: number;\n  tools?: ToolsDefinition;\n  tool_choice?: ToolChoice;\n  output_audio_format?: AudioFormat;\n}\n\nexport interface ResponseCreateMessage extends ClientMessageBase {\n  type: \"response.create\";\n  response?: ResponseCreateParams;\n}\n\nexport interface ResponseCancelMessage extends ClientMessageBase {\n  type: \"response.cancel\";\n}\n\nexport interface SessionAvatarConnectMessage extends ClientMessageBase {\n  type: \"session.avatar.connect\";\n  client_sdp: string;\n}\n\nexport interface RealtimeError {\n  message: string;\n  type?: string;\n  code?: string;\n  param?: string;\n  event_id?: string;\n}\n\nexport interface ServerMessageBase {\n  event_id: string;\n}\n\nexport interface ErrorMessage extends ServerMessageBase {\n  type: \"error\";\n  error: RealtimeError;\n}\n\nexport interface Session {\n  id: string;\n  model: string;\n  modalities: Modality[];\n  instructions: string;\n  voice: Voice;\n  input_audio_format: AudioFormat;\n  output_audio_format: AudioFormat;\n  input_audio_transcription?: InputAudioTranscription;\n  turn_detection: TurnDetection;\n  tools: ToolsDefinition;\n  tool_choice: ToolChoice;\n  temperature: number;\n  max_response_output_tokens?: number;\n  avatar?: AvatarConfig;\n  input_audio_noise_reduction?: InputAudioNoiseReduction;\n  input_audio_echo_cancellation?: InputAudioEchoCancellation;\n}\n\nexport interface SessionCreatedMessage extends ServerMessageBase {\n  type: \"session.created\";\n  session: Session;\n}\n\nexport interface SessionUpdatedMessage extends ServerMessageBase {\n  type: \"session.updated\";\n  session: Session;\n}\n\nexport interface InputAudioBufferCommittedMessage extends ServerMessageBase {\n  type: \"input_audio_buffer.committed\";\n  previous_item_id?: string;\n  item_id: string;\n}\n\nexport interface InputAudioBufferClearedMessage extends ServerMessageBase {\n  type: \"input_audio_buffer.cleared\";\n}\n\nexport interface InputAudioBufferSpeechStartedMessage\n  extends ServerMessageBase {\n  type: \"input_audio_buffer.speech_started\";\n  audio_start_ms: number;\n  item_id: string;\n}\n\nexport interface InputAudioBufferSpeechStoppedMessage\n  extends ServerMessageBase {\n  type: \"input_audio_buffer.speech_stopped\";\n  audio_end_ms: number;\n  item_id: string;\n}\n\nexport type ResponseItemStatus = \"in_progress\" | \"completed\" | \"incomplete\";\n\nexport interface ResponseItemInputTextContentPart {\n  type: \"input_text\";\n  text: string;\n}\n\nexport interface ResponseItemInputAudioContentPart {\n  type: \"input_audio\";\n  transcript?: string;\n}\n\nexport interface ResponseItemTextContentPart {\n  type: \"text\";\n  text: string;\n}\n\nexport interface ResponseItemAudioContentPart {\n  type: \"audio\";\n  transcript?: string;\n}\n\nexport type ResponseItemContentPart =\n  | ResponseItemInputTextContentPart\n  | ResponseItemInputAudioContentPart\n  | ResponseItemTextContentPart\n  | ResponseItemAudioContentPart;\n\nexport interface ResponseItemBase {\n  id?: string;\n}\n\nexport interface ResponseMessageItem extends ResponseItemBase {\n  type: MessageItemType;\n  status: ResponseItemStatus;\n  role: MessageRole;\n  content: ResponseItemContentPart[];\n}\n\nexport interface ResponseFunctionCallItem extends ResponseItemBase {\n  type: \"function_call\";\n  status: ResponseItemStatus;\n  name: string;\n  call_id: string;\n  arguments: string;\n}\n\nexport interface ResponseFunctionCallOutputItem extends ResponseItemBase {\n  type: \"function_call_output\";\n  call_id: string;\n  output: string;\n}\n\nexport type ResponseItem =\n  | ResponseMessageItem\n  | ResponseFunctionCallItem\n  | ResponseFunctionCallOutputItem;\n\nexport interface ItemCreatedMessage extends ServerMessageBase {\n  type: \"conversation.item.created\";\n  previous_item_id?: string;\n  item: ResponseItem;\n}\n\nexport interface ItemTruncatedMessage extends ServerMessageBase {\n  type: \"conversation.item.truncated\";\n  item_id: string;\n  content_index: number;\n  audio_end_ms: number;\n}\n\nexport interface ItemDeletedMessage extends ServerMessageBase {\n  type: \"conversation.item.deleted\";\n  item_id: string;\n}\n\nexport interface ItemInputAudioTranscriptionCompletedMessage\n  extends ServerMessageBase {\n  type: \"conversation.item.input_audio_transcription.completed\";\n  item_id: string;\n  content_index: number;\n  transcript: string;\n}\n\nexport interface ItemInputAudioTranscriptionFailedMessage\n  extends ServerMessageBase {\n  type: \"conversation.item.input_audio_transcription.failed\";\n  item_id: string;\n  content_index: number;\n  error: RealtimeError;\n}\n\nexport type ResponseStatus =\n  | \"in_progress\"\n  | \"completed\"\n  | \"cancelled\"\n  | \"incomplete\"\n  | \"failed\";\n\nexport interface ResponseCancelledDetails {\n  type: \"cancelled\";\n  reason: \"turn_detected\" | \"client_cancelled\";\n}\n\nexport interface ResponseIncompleteDetails {\n  type: \"incomplete\";\n  reason: \"max_output_tokens\" | \"content_filter\";\n}\n\nexport interface ResponseFailedDetails {\n  type: \"failed\";\n  error: RealtimeError;\n}\n\nexport type ResponseStatusDetails =\n  | ResponseCancelledDetails\n  | ResponseIncompleteDetails\n  | ResponseFailedDetails;\n\nexport interface InputTokenDetails {\n  cached_tokens: number;\n  text_tokens: number;\n  audio_tokens: number;\n}\n\nexport interface OutputTokenDetails {\n  text_tokens: number;\n  audio_tokens: number;\n}\n\nexport interface Usage {\n  total_tokens: number;\n  input_tokens: number;\n  output_tokens: number;\n  input_token_details: InputTokenDetails;\n  output_token_details: OutputTokenDetails;\n}\n\nexport interface Response {\n  id: string;\n  status: ResponseStatus;\n  status_details?: ResponseStatusDetails;\n  output: ResponseItem[];\n  usage?: Usage;\n}\n\nexport interface ResponseCreatedMessage extends ServerMessageBase {\n  type: \"response.created\";\n  response: Response;\n}\n\nexport interface ResponseDoneMessage extends ServerMessageBase {\n  type: \"response.done\";\n  response: Response;\n}\n\nexport interface ResponseOutputItemAddedMessage extends ServerMessageBase {\n  type: \"response.output_item.added\";\n  response_id: string;\n  output_index: number;\n  item: ResponseItem;\n}\n\nexport interface ResponseOutputItemDoneMessage extends ServerMessageBase {\n  type: \"response.output_item.done\";\n  response_id: string;\n  output_index: number;\n  item: ResponseItem;\n}\n\nexport interface ResponseContentPartAddedMessage extends ServerMessageBase {\n  type: \"response.content_part.added\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  part: ResponseItemContentPart;\n}\n\nexport interface ResponseContentPartDoneMessage extends ServerMessageBase {\n  type: \"response.content_part.done\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  part: ResponseItemContentPart;\n}\n\nexport interface ResponseTextDeltaMessage extends ServerMessageBase {\n  type: \"response.text.delta\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  delta: string;\n}\n\nexport interface ResponseTextDoneMessage extends ServerMessageBase {\n  type: \"response.text.done\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  text: string;\n}\n\nexport interface ResponseAudioTranscriptDeltaMessage extends ServerMessageBase {\n  type: \"response.audio_transcript.delta\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  delta: string;\n}\n\nexport interface ResponseAudioTranscriptDoneMessage extends ServerMessageBase {\n  type: \"response.audio_transcript.done\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  transcript: string;\n}\n\nexport interface ResponseAudioDeltaMessage extends ServerMessageBase {\n  type: \"response.audio.delta\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  delta: string;\n}\n\nexport interface ResponseAudioDoneMessage extends ServerMessageBase {\n  type: \"response.audio.done\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n}\n\nexport interface ResponseFunctionCallArgumentsDeltaMessage\n  extends ServerMessageBase {\n  type: \"response.function_call_arguments.delta\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  call_id: string;\n  delta: string;\n}\n\nexport interface ResponseFunctionCallArgumentsDoneMessage\n  extends ServerMessageBase {\n  type: \"response.function_call_arguments.done\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  call_id: string;\n  name: string;\n  arguments: string;\n}\n\nexport interface RateLimits {\n  name: string;\n  limit: number;\n  remaining: number;\n  reset_seconds: number;\n}\n\nexport interface RateLimitsUpdatedMessage extends ServerMessageBase {\n  type: \"rate_limits.updated\";\n  rate_limits: RateLimits[];\n}\n\nexport interface SessionAvatarConnectingMessage extends ServerMessageBase {\n  type: \"session.avatar.connecting\";\n  server_sdp: string;\n}\n\nexport interface ResponseBlendShapeMessage extends ServerMessageBase {\n  type: \"response.animation.blendshapes\";\n  response_id: string;\n  item_id: string;\n  output_index: number;\n  content_index: number;\n  blendshapes: string;\n}\n\nexport type UserMessageType =\n  | SessionUpdateMessage\n  | InputAudioBufferAppendMessage\n  | InputAudioBufferCommitMessage\n  | InputAudioBufferClearMessage\n  | ItemCreateMessage\n  | ItemTruncateMessage\n  | ItemDeleteMessage\n  | ResponseCreateMessage\n  | ResponseCancelMessage\n  | SessionAvatarConnectMessage;\n\nexport type ServerMessageType =\n  | ErrorMessage\n  | SessionCreatedMessage\n  | SessionUpdatedMessage\n  | InputAudioBufferCommittedMessage\n  | InputAudioBufferClearedMessage\n  | InputAudioBufferSpeechStartedMessage\n  | InputAudioBufferSpeechStoppedMessage\n  | ItemCreatedMessage\n  | ItemTruncatedMessage\n  | ItemDeletedMessage\n  | ItemInputAudioTranscriptionCompletedMessage\n  | ItemInputAudioTranscriptionFailedMessage\n  | ResponseCreatedMessage\n  | ResponseDoneMessage\n  | ResponseOutputItemAddedMessage\n  | ResponseOutputItemDoneMessage\n  | ResponseContentPartAddedMessage\n  | ResponseContentPartDoneMessage\n  | ResponseTextDeltaMessage\n  | ResponseTextDoneMessage\n  | ResponseAudioTranscriptDeltaMessage\n  | ResponseAudioTranscriptDoneMessage\n  | ResponseAudioDeltaMessage\n  | ResponseAudioDoneMessage\n  | ResponseBlendShapeMessage\n  | ResponseFunctionCallArgumentsDeltaMessage\n  | ResponseFunctionCallArgumentsDoneMessage\n  | RateLimitsUpdatedMessage\n  | SessionAvatarConnectingMessage;\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { ServerMessageType } from \"./models\";\n\nconst isRealtimeEvent = (message: unknown): message is { type: string } =>\n  typeof message === \"object\" && message !== null && \"type\" in message;\n\nexport const isServerMessageType = (\n  message: unknown,\n): message is ServerMessageType =>\n  isRealtimeEvent(message) &&\n  [\n    \"error\",\n    \"session.created\",\n    \"session.updated\",\n    \"input_audio_buffer.committed\",\n    \"input_audio_buffer.cleared\",\n    \"input_audio_buffer.speech_started\",\n    \"input_audio_buffer.speech_stopped\",\n    \"conversation.item.created\",\n    \"conversation.item.truncated\",\n    \"conversation.item.deleted\",\n    \"conversation.item.input_audio_transcription.completed\",\n    \"conversation.item.input_audio_transcription.failed\",\n    \"response.created\",\n    \"response.done\",\n    \"response.output_item.added\",\n    \"response.output_item.done\",\n    \"response.content_part.added\",\n    \"response.content_part.done\",\n    \"response.text.delta\",\n    \"response.text.done\",\n    \"response.audio_transcript.delta\",\n    \"response.audio_transcript.done\",\n    \"response.audio.delta\",\n    \"response.audio.done\",\n    \"response.function_call_arguments.delta\",\n    \"response.function_call_arguments.done\",\n    \"rate_limits.updated\",\n    \"session.avatar.connecting\",\n    \"session.avatar.connected\",\n    \"response.animation.blendshapes\",\n  ].includes(message.type);\n","'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport {\n  CloseEvent as WSCloseEvent,\n  ErrorEvent as WSErrorEvent,\n  MessageEvent as WSMessageEvent,\n  WebSocket as WS,\n} from \"ws\";\nimport { ConnectionSettings } from \"./interfaces\";\n\nexport type WebSocket = WS;\nexport const WebSocket = WS;\nexport type MessageEvent = WSMessageEvent;\nexport type CloseEvent = WSCloseEvent;\nexport type ErrorEvent = WSErrorEvent;\n\nexport const sendMessage = (\n  socket: WebSocket,\n  message: string | ArrayBufferLike | ArrayBufferView,\n): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    socket.send(message, (error?: Error) => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\n\nexport async function getWebsocket(\n  settings: ConnectionSettings,\n): Promise<WebSocket> {\n  if (settings.policy != undefined) {\n    settings = await settings.policy(settings);\n  }\n  return new WebSocket(settings.uri, settings.protocols, {\n    headers: settings.headers,\n  });\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport { ConnectionSettings } from \"./interfaces\";\nimport {\n  WebSocket,\n  ErrorEvent,\n  CloseEvent,\n  MessageEvent,\n  sendMessage,\n  getWebsocket,\n} from \"./websocket\";\n\ntype ResolveFn<T> = (value: IteratorResult<T>) => void;\ntype RejectFn<E> = (reason: E) => void;\n\nexport type ValidatorResult<T> =\n  | { success: true; message: T }\n  | { success: false; error: Error };\n\nexport const validationSuccess = <T>(message: T): ValidatorResult<T> => ({\n  success: true,\n  message,\n});\nexport const validationError = <T>(error: Error): ValidatorResult<T> => ({\n  success: false,\n  error,\n});\nconst isValidatorSuccess = <T>(\n  result: ValidatorResult<T>,\n): result is { success: true; message: T } => result.success;\n\nexport type ValidateProtocolMessage<T> = (\n  message: MessageEvent,\n) => ValidatorResult<T>;\nexport type SerializeMessage<T> = (\n  message: T,\n) => string | ArrayBufferLike | ArrayBufferView;\n\nexport interface MessageProtocolHandler<U, D> {\n  validate: ValidateProtocolMessage<D>;\n  serialize: SerializeMessage<U>;\n}\n\nexport class WebSocketClient<U, D> implements AsyncIterable<D> {\n  private socket: WebSocket;\n  private connectedPromise: Promise<void>;\n  private closedPromise: Promise<void> | undefined = undefined;\n  private error: Error | undefined;\n  private messageQueue: D[] = [];\n  private validate: ValidateProtocolMessage<D>;\n  private serialize: SerializeMessage<U>;\n\n  private receiverQueue: [ResolveFn<D>, RejectFn<Error>][] = [];\n  private done: boolean = false;\n\n  constructor(\n    settings: ConnectionSettings,\n    handler: MessageProtocolHandler<U, D>,\n  ) {\n    this.validate = handler.validate;\n    this.serialize = handler.serialize;\n    this.connectedPromise = new Promise(async (resolve, reject) => {\n      this.socket = await getWebsocket(settings);\n      this.socket.onopen = () => {\n        this.socket.onmessage = this.getMessageHandler();\n        this.closedPromise = new Promise((resolve) => {\n          this.socket.onclose = this.getClosedHandler(resolve);\n        });\n        this.socket.onerror = this.handleError;\n        resolve();\n      };\n      this.socket.onerror = (event: ErrorEvent) => {\n        this.error = event.error;\n        reject(event);\n      };\n    });\n  }\n\n  private handleError(event: ErrorEvent) {\n    this.error = event.error;\n    while (this.receiverQueue.length > 0) {\n      const [_, reject] = this.receiverQueue.shift()!;\n      reject(event.error);\n    }\n  }\n\n  private getClosedHandler(\n    closeResolve: (_: void) => void,\n  ): (_: CloseEvent) => void {\n    return (_: CloseEvent) => {\n      this.done = true;\n      while (this.receiverQueue.length > 0) {\n        const [resolve, reject] = this.receiverQueue.shift()!;\n        if (this.error) {\n          reject(this.error);\n        } else {\n          resolve({ value: undefined, done: true });\n        }\n      }\n      closeResolve();\n    };\n  }\n\n  private getMessageHandler(): (event: MessageEvent) => void {\n    const self = this;\n    return (event: MessageEvent) => {\n      const result = self.validate(event);\n      if (isValidatorSuccess(result)) {\n        const { message } = result;\n        if (self.receiverQueue.length > 0) {\n          const [resolve, _] = self.receiverQueue.shift()!;\n          resolve({ value: message, done: false });\n        } else {\n          self.messageQueue.push(message);\n        }\n      } else {\n        self.error = result.error;\n        self.socket.close(1000, \"Unexpected message received\");\n      }\n    };\n  }\n\n  [Symbol.asyncIterator](): AsyncIterator<D> {\n    return {\n      next: (): Promise<IteratorResult<D>> => {\n        if (this.error) {\n          return Promise.reject(this.error);\n        } else if (this.done) {\n          return Promise.resolve({ value: undefined, done: true });\n        } else if (this.messageQueue.length > 0) {\n          const message = this.messageQueue.shift()!;\n          return Promise.resolve({ value: message, done: false });\n        } else {\n          return new Promise((resolve, reject) => {\n            this.receiverQueue.push([resolve, reject]);\n          });\n        }\n      },\n    };\n  }\n\n  async send(message: U): Promise<void> {\n    await this.connectedPromise;\n    if (this.error) {\n      throw this.error;\n    }\n    const serialized = this.serialize(message);\n    return sendMessage(this.socket, serialized);\n  }\n\n  async close(): Promise<void> {\n    await this.connectedPromise;\n    if (this.done) {\n      return;\n    }\n    this.socket.close();\n    await this.closedPromise;\n  }\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nexport interface KeyCredential {\n  key: string;\n}\n\nexport interface AccessToken {\n  token: string;\n  expiresOnTimestamp: number;\n  refreshAfterTimestamp?: number;\n}\n\nexport interface TokenCredential {\n  getToken(scopes: string | string[], options?: unknown): Promise<AccessToken>;\n}\n\nexport function isKeyCredential(\n  credential: unknown,\n): credential is KeyCredential {\n  return (\n    typeof credential === \"object\" &&\n    credential !== null &&\n    \"key\" in credential &&\n    typeof (credential as KeyCredential).key === \"string\"\n  );\n}\n\nexport function isTokenCredential(\n  credential: unknown,\n): credential is TokenCredential {\n  return (\n    typeof credential === \"object\" &&\n    credential !== null &&\n    \"getToken\" in credential &&\n    typeof (credential as TokenCredential).getToken === \"function\"\n  );\n}\n\nexport const isCredential = (\n  credential: unknown,\n): credential is KeyCredential | TokenCredential =>\n  isKeyCredential(credential) || isTokenCredential(credential);\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nexport type WebSocketPolicy = (\n  ConnectionSettings: ConnectionSettings,\n) => Promise<ConnectionSettings>;\n\nexport interface ConnectionSettings {\n  uri: URL;\n  protocols?: string[];\n  headers?: Record<string, string>;\n  policy?: WebSocketPolicy;\n  requestId?: string;\n}\n\nexport interface RTOpenAIOptions {\n  model: string;\n}\n\nexport interface RTAzureOpenAIOptions {\n  deployment: string;\n  requestId?: string;\n  apiVersion?: string;\n  path?: string;\n}\n\nexport interface AzureAgentConfig {\n  agentId: string;\n  agentConnectionString: string;\n  agentAuthenticationIdentityClientId?: string;\n  agentAccessToken?: string;\n  threadId?: string;\n}\n\nexport interface RTVoiceAgentOptions {\n  modelOrAgent: string | AzureAgentConfig;\n  profile?: string;\n  requestId?: string;\n  apiVersion?: string;\n  path?: string;\n}\n\nexport const isRTOpenAIOptions = (\n  options: unknown,\n): options is RTOpenAIOptions => {\n  return (\n    typeof options === \"object\" &&\n    options !== null &&\n    \"model\" in options &&\n    typeof (options as RTOpenAIOptions).model === \"string\"\n  );\n};\n\nexport const isRTAzureOpenAIOptions = (\n  options: unknown,\n): options is RTAzureOpenAIOptions => {\n  return (\n    typeof options === \"object\" &&\n    options !== null &&\n    \"deployment\" in options &&\n    typeof (options as RTAzureOpenAIOptions).deployment === \"string\"\n  );\n};\n\nexport const isRTVoiceAgentOptions = (\n  options: unknown,\n): options is RTVoiceAgentOptions => {\n  return (\n    typeof options === \"object\" &&\n    options !== null &&\n    (\"modelOrAgent\" in options && (options as RTVoiceAgentOptions).modelOrAgent !== undefined)\n  );\n}","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport { isKeyCredential, KeyCredential, TokenCredential } from \"./auth\";\nimport {\n  ConnectionSettings,\n  RTAzureOpenAIOptions,\n  RTOpenAIOptions,\n  RTVoiceAgentOptions,\n} from \"./interfaces\";\n\nfunction getUserAgent() {\n  return `ms-rtclient/PACKAGE_VERSION`;\n}\n\nexport function openAISettings(\n  credential: KeyCredential,\n  options: RTOpenAIOptions,\n): ConnectionSettings {\n  const uri = new URL(\"wss://api.openai.com/v1/realtime\");\n  uri.searchParams.set(\"model\", options.model);\n  return {\n    uri,\n    headers: {\n      Authorization: `Bearer ${credential.key}`,\n      \"openai-beta\": \"realtime=v1\",\n      \"User-Agent\": \"openai-node\",\n    },\n  };\n}\n\nexport function azureOpenAISettings(\n  uri: URL,\n  credential: KeyCredential | TokenCredential,\n  options: RTAzureOpenAIOptions,\n): ConnectionSettings {\n  const requestId = options.requestId ?? crypto.randomUUID();\n\n  const scopes = [\"https://cognitiveservices.azure.com/.default\"];\n\n  uri.searchParams.set(\"api-version\", options.apiVersion ?? \"2024-10-01-preview\");\n  uri.searchParams.set(\"deployment\", options.deployment);\n  uri.pathname = options.path ?? \"openai/realtime\";\n  return {\n    uri,\n    headers: {\n      \"User-Agent\": getUserAgent(),\n      \"x-ms-client-request-id\": requestId,\n    },\n    policy: async (settings) => {\n      if (isKeyCredential(credential)) {\n        settings.headers = {\n          ...settings.headers,\n          \"api-key\": credential.key,\n        };\n      } else {\n        const token = await credential.getToken(scopes);\n        settings.headers = {\n          ...settings.headers,\n          Authorization: `Bearer ${token.token}`,\n          requestId,\n        };\n      }\n      return settings;\n    },\n  };\n}\n\n\nexport function voiceAgentSettings(\n  uri: URL,\n  credential: KeyCredential | TokenCredential,\n  options: RTVoiceAgentOptions,\n): ConnectionSettings {\n  const requestId = options.requestId ?? crypto.randomUUID();\n\n  const scopes = [\"https://cognitiveservices.azure.com/.default\"];\n\n  uri.searchParams.set(\"api-version\", options.apiVersion ?? \"2025-05-01-preview\");\n  uri.searchParams.set(\"x-ms-client-request-id\", requestId!);\n  if (typeof options.modelOrAgent === \"string\") {\n    uri.searchParams.set(\"model\", options.modelOrAgent);\n  } else {\n    uri.searchParams.set(\"agent_id\", options.modelOrAgent.agentId);\n    uri.searchParams.set(\n      \"agent_connection_string\",\n      options.modelOrAgent.agentConnectionString,\n    );\n    if (options.modelOrAgent.agentAuthenticationIdentityClientId) {\n      uri.searchParams.set(\n        \"agent_authentication_identity_client_id\",\n        options.modelOrAgent.agentAuthenticationIdentityClientId,\n      );\n    }\n    if (options.modelOrAgent.agentAccessToken) {\n      uri.searchParams.set(\n        \"agent_access_token\",\n        options.modelOrAgent.agentAccessToken,\n      );\n    }\n    if (options.modelOrAgent.threadId) {\n      uri.searchParams.set(\"agent_thread_id\", options.modelOrAgent.threadId);\n    }\n  }\n  uri.pathname = options.path ?? \"voice-agent/realtime\";\n  return {\n    uri,\n    headers: {\n      \"User-Agent\": getUserAgent(),\n      \"x-ms-client-request-id\": requestId,\n    },\n    policy: async (settings) => {\n      if (isKeyCredential(credential)) {\n        settings.headers = {\n          ...settings.headers,\n          \"api-key\": credential.key,\n        };\n      } else {\n        const token = await credential.getToken(scopes);\n        settings.headers = {\n          ...settings.headers,\n          Authorization: `Bearer ${token.token}`,\n          requestId,\n        };\n      }\n      return settings;\n    },\n  };\n}","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\ntype ReceiveFunction<T> = () => Promise<T | null>;\n\ntype ResolveFn<T> = (value: T | null) => void;\ntype RejectFn<E> = (reason: E) => void;\n\ntype Predicate<T> = (message: T) => boolean;\n\nexport class MessageQueue<T> {\n  private messages: T[] = [];\n  protected waitingReceivers: [\n    Predicate<T>,\n    [ResolveFn<T>, RejectFn<Error>],\n    AbortController,\n  ][] = [];\n  private isPolling: boolean = false;\n  private pollPromise: Promise<void> | null = null;\n\n  constructor(private receiveDelegate: ReceiveFunction<T>) {}\n\n  protected pushBack(message: T) {\n    this.messages.push(message);\n  }\n\n  private findAndRemove(predicate: Predicate<T>): T | null {\n    const index = this.messages.findIndex(predicate);\n    if (index === -1) {\n      return null;\n    }\n    return this.messages.splice(index, 1)[0];\n  }\n\n  private async pollReceive(): Promise<void> {\n    if (this.isPolling) {\n      return;\n    }\n\n    this.isPolling = true;\n    this.pollPromise = this.doPollReceive();\n    return this.pollPromise;\n  }\n\n  private async doPollReceive(): Promise<void> {\n    try {\n      while (this.isPolling) {\n        const message = await this.receiveDelegate();\n        if (message === null) {\n          this.notifyEndOfStream();\n          break;\n        }\n        this.notifyReceiver(message);\n        if (this.waitingReceivers.length === 0) {\n          break;\n        }\n      }\n    } catch (error) {\n      this.notifyError(error);\n    } finally {\n      this.isPolling = false;\n      this.pollPromise = null;\n    }\n  }\n\n  private notifyError(error: Error): void {\n    while (this.waitingReceivers.length > 0) {\n      const [_predicate, [_resolve, reject], _controller] =\n        this.waitingReceivers.shift()!;\n      reject(error);\n    }\n  }\n\n  private notifyEndOfStream(): void {\n    while (this.waitingReceivers.length > 0) {\n      const [_predicate, [resolve, _reject], _controller] =\n        this.waitingReceivers.shift()!;\n      resolve(null);\n    }\n  }\n\n  protected notifyReceiver(message: T): void {\n    const index = this.waitingReceivers.findIndex(\n      ([predicate, [_resolve, _reject], _controller]) => predicate(message),\n    );\n    if (index === -1) {\n      this.pushBack(message);\n      return;\n    }\n\n    const [_predicate, [resolve, _reject], _controller] =\n      this.waitingReceivers.splice(index, 1)[0];\n    resolve(message);\n  }\n\n  queuedMessageCount(): number {\n    return this.messages.length;\n  }\n\n  receive(predicate: Predicate<T>, abort?: AbortController): Promise<T | null> {\n    const foundMessage = this.findAndRemove(predicate);\n    if (foundMessage !== null) {\n      return Promise.resolve(foundMessage);\n    }\n\n    return new Promise<T | null>(async (resolve, reject) => {\n      this.waitingReceivers.push([\n        predicate,\n        [resolve, reject],\n        abort || new AbortController(),\n      ]);\n\n      await this.pollReceive();\n    });\n  }\n}\nexport class MessageQueueWithError<T> extends MessageQueue<T> {\n  private error?: T = undefined;\n\n  constructor(\n    receiveDelegate: ReceiveFunction<T>,\n    private errorPredicate: (message: T) => boolean,\n  ) {\n    super(receiveDelegate);\n  }\n\n  private notifyErrorMessage(message: T): void {\n    while (this.waitingReceivers.length > 0) {\n      const [_, [resolve, _reject]] = this.waitingReceivers.shift()!;\n      resolve(message);\n    }\n  }\n\n  protected notifyReceiver(message: T): void {\n    if (this.errorPredicate(message)) {\n      this.error = message;\n      this.notifyErrorMessage(message);\n      return;\n    }\n    const index = this.waitingReceivers.findIndex(\n      ([predicate, [_resolve, _reject], _controller]) => predicate(message),\n    );\n    if (index === -1) {\n      this.pushBack(message);\n      return;\n    }\n\n    const [_predicate, [resolve, _reject], _controller] =\n      this.waitingReceivers.splice(index, 1)[0];\n    resolve(message);\n  }\n\n  async receive(predicate: (message: T) => boolean): Promise<T | null> {\n    if (this.error !== undefined) {\n      return this.error;\n    }\n    const message = await super.receive(\n      (message) => predicate(message) || this.errorPredicate(message),\n    );\n    return message;\n  }\n}\n\nexport class SharedEndQueue<T> {\n  private queue: T[] = [];\n  private lock: Promise<void> = Promise.resolve();\n\n  constructor(\n    private receiveDelegate: () => Promise<T>,\n    private errorPredicate: (message: T) => boolean,\n    private endPredicate: (message: T) => boolean,\n  ) {}\n\n  async receive(predicate: (message: T) => boolean): Promise<T> {\n    const release = await this.acquireLock();\n    try {\n      for (let i = 0; i < this.queue.length; i++) {\n        const message = this.queue[i];\n        if (predicate(message)) {\n          this.queue.splice(i, 1);\n          return message;\n        } else if (this.endPredicate(message)) {\n          return message;\n        }\n      }\n\n      while (true) {\n        const message = await this.receiveDelegate();\n        if (\n          message === null ||\n          this.errorPredicate(message) ||\n          predicate(message)\n        ) {\n          return message;\n        }\n        if (this.endPredicate(message)) {\n          this.queue.push(message);\n          return message;\n        }\n        this.queue.push(message);\n      }\n    } finally {\n      release();\n    }\n  }\n\n  private async acquireLock(): Promise<() => void> {\n    let release: () => void;\n    const newLock = new Promise<void>((resolve) => {\n      release = resolve;\n    });\n    const oldLock = this.lock;\n    this.lock = newLock;\n    await oldLock;\n    return release!;\n  }\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nexport function getRandomValues(array: Uint8Array): Uint8Array {\n  if (typeof crypto !== \"undefined\" && crypto.getRandomValues) {\n    return crypto.getRandomValues(array);\n  } else if (\n    typeof window !== \"undefined\" &&\n    window.crypto &&\n    window.crypto.getRandomValues\n  ) {\n    return window.crypto.getRandomValues(array);\n  } else {\n    throw new Error(\"No secure random number generator available.\");\n  }\n}\n\nexport function generateId(prefix: string, length: number): string {\n  const array = new Uint8Array(length);\n  getRandomValues(array);\n  const base64 = btoa(String.fromCharCode(...array))\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=/g, \"\");\n\n  return `${prefix}-${base64}`.slice(0, length);\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport { isServerMessageType } from \"./model-utils\";\nimport {\n  InputAudioBufferSpeechStoppedMessage,\n  Item,\n  ItemInputAudioTranscriptionCompletedMessage,\n  ItemInputAudioTranscriptionFailedMessage,\n  MessageRole,\n  RealtimeError,\n  Response,\n  ResponseAudioDeltaMessage,\n  ResponseAudioDoneMessage,\n  ResponseAudioTranscriptDeltaMessage,\n  ResponseAudioTranscriptDoneMessage,\n  ResponseContentPartAddedMessage,\n  ResponseContentPartDoneMessage,\n  ResponseFunctionCallItem,\n  ResponseItem,\n  ResponseItemAudioContentPart,\n  ResponseItemStatus,\n  ResponseItemTextContentPart,\n  ResponseMessageItem,\n  ResponseStatus,\n  ResponseStatusDetails,\n  ServerMessageType,\n  Session,\n  SessionUpdateParams,\n  Usage,\n  UserMessageType,\n} from \"./models\";\nimport {\n  validationError,\n  validationSuccess,\n  WebSocketClient,\n} from \"./util/websocket-client\";\nimport { MessageEvent } from \"./util/websocket\";\nimport {\n  isCredential,\n  isKeyCredential,\n  KeyCredential,\n  TokenCredential,\n} from \"./util/auth\";\nimport {\n  ConnectionSettings,\n  isRTAzureOpenAIOptions,\n  isRTOpenAIOptions,\n  isRTVoiceAgentOptions,\n  RTAzureOpenAIOptions,\n  RTOpenAIOptions,\n  RTVoiceAgentOptions,\n} from \"./util/interfaces\";\nimport {\n  azureOpenAISettings,\n  openAISettings,\n  voiceAgentSettings,\n} from \"./util/connection-settings\";\nimport { MessageQueueWithError, SharedEndQueue } from \"./util/message_queue\";\nimport { generateId } from \"./util/crypto\";\n\nexport class LowLevelRTClient {\n  public requestId: string | undefined;\n  private client: WebSocketClient<UserMessageType, ServerMessageType>;\n\n  private getWebsocket(\n    settings: ConnectionSettings,\n  ): WebSocketClient<UserMessageType, ServerMessageType> {\n    const handler = {\n      validate: (event: MessageEvent) => {\n        if (typeof event.data !== \"string\") {\n          return validationError<ServerMessageType>(\n            new Error(\"Invalid message type\"),\n          );\n        }\n        try {\n          const data = JSON.parse(event.data as string);\n          if (isServerMessageType(data)) {\n            return validationSuccess(data);\n          }\n          return validationError<ServerMessageType>(\n            new Error(\"Invalid message type\"),\n          );\n        } catch (error) {\n          return validationError<ServerMessageType>(\n            new Error(\"Invalid JSON message\"),\n          );\n        }\n      },\n      serialize: (message: UserMessageType) => JSON.stringify(message),\n    };\n\n    return new WebSocketClient<UserMessageType, ServerMessageType>(\n      settings,\n      handler,\n    );\n  }\n\n  constructor(credential: KeyCredential, options: RTOpenAIOptions);\n  constructor(\n    uri: URL,\n    credential: KeyCredential | TokenCredential,\n    options: RTAzureOpenAIOptions | RTVoiceAgentOptions,\n  );\n  constructor(\n    uriOrCredential: URL | KeyCredential,\n    credentialOrOptions: KeyCredential | TokenCredential | RTOpenAIOptions | RTVoiceAgentOptions,\n    options?: RTAzureOpenAIOptions | RTVoiceAgentOptions,\n  ) {\n    const settings = (() => {\n      if (\n        isKeyCredential(uriOrCredential) &&\n        isRTOpenAIOptions(credentialOrOptions)\n      ) {\n        return openAISettings(uriOrCredential, credentialOrOptions);\n      } else if (\n        isCredential(credentialOrOptions) &&\n        isRTAzureOpenAIOptions(options)\n      ) {\n        return azureOpenAISettings(\n          uriOrCredential as URL,\n          credentialOrOptions,\n          options,\n        );\n      } else if (\n        isCredential(credentialOrOptions) &&\n        isRTVoiceAgentOptions(options)\n      ) {\n        return voiceAgentSettings(\n          uriOrCredential as URL,\n          credentialOrOptions,\n          options as RTVoiceAgentOptions,\n        );\n      } else {\n        throw new Error(\n          \"Invalid combination of arguments to initialize the Realtime client\",\n        );\n      }\n    })();\n    this.requestId = settings.requestId;\n    this.client = this.getWebsocket(settings);\n  }\n\n  async *messages(): AsyncIterable<ServerMessageType> {\n    for await (const message of this.client) {\n      yield message;\n    }\n  }\n\n  async send(message: UserMessageType): Promise<void> {\n    await this.client.send(message);\n  }\n\n  async close(): Promise<void> {\n    await this.client.close();\n  }\n}\n\nexport class RTError extends Error {\n  constructor(private errorDetails: RealtimeError) {\n    super(errorDetails.message);\n    Object.setPrototypeOf(this, RTError.prototype);\n  }\n\n  get code(): string | undefined {\n    return this.errorDetails.code;\n  }\n\n  get param(): string | undefined {\n    return this.errorDetails.param;\n  }\n\n  get eventId(): string | undefined {\n    return this.errorDetails.event_id;\n  }\n}\n\ntype Optional<T> = T | undefined;\n\nclass RTInputAudioItem {\n  public type: \"input_audio\" = \"input_audio\";\n  public audioEndMillis: Optional<number> = undefined;\n  public transcription: Optional<string> = undefined;\n\n  private waitPromise: Promise<void> | null = null;\n\n  private constructor(\n    public readonly id: string,\n    public audioStartMillis: Optional<number>,\n    private hasTranscription: boolean,\n    private queue: MessageQueueWithError<ServerMessageType>,\n  ) { }\n\n  static create(\n    id: string,\n    audioStartMillis: Optional<number>,\n    hasTranscription: boolean,\n    queue: MessageQueueWithError<ServerMessageType>,\n  ): RTInputAudioItem {\n    return new RTInputAudioItem(id, audioStartMillis, hasTranscription, queue);\n  }\n\n  private async wait(): Promise<void> {\n    const itemIdValidMessage = (\n      message: ServerMessageType,\n    ): message is\n      | InputAudioBufferSpeechStoppedMessage\n      | ItemInputAudioTranscriptionCompletedMessage\n      | ItemInputAudioTranscriptionFailedMessage =>\n      [\n        \"input_audio_buffer.speech_stopped\",\n        \"conversation.item.input_audio_transcription.completed\",\n        \"conversation.item.input_audio_transcription.failed\",\n      ].includes(message.type);\n\n    while (true) {\n      const message = await this.queue.receive(\n        (m) =>\n          (itemIdValidMessage(m) && m.item_id == this.id) ||\n          (m.type === \"conversation.item.created\" && m.item.id == this.id),\n      );\n      if (message === null) {\n        return;\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"input_audio_buffer.speech_stopped\") {\n        this.audioEndMillis = message.audio_end_ms;\n        if (!this.hasTranscription) {\n          return;\n        }\n      } else if (\n        message.type === \"conversation.item.created\" &&\n        !this.hasTranscription\n      ) {\n        return;\n      } else if (\n        message.type === \"conversation.item.input_audio_transcription.completed\"\n      ) {\n        this.transcription = message.transcript;\n        return;\n      } else if (\n        message.type === \"conversation.item.input_audio_transcription.failed\"\n      ) {\n        throw new RTError(message.error);\n      }\n    }\n  }\n\n  waitForCompletion(): Promise<void> {\n    if (!this.waitPromise) {\n      this.waitPromise = this.wait();\n    }\n    return this.waitPromise;\n  }\n}\n\nexport type { RTInputAudioItem };\n\n/* TODO: Move to PAL so we use Buffer.from in Node */\nfunction decodeBase64(base64: string): Uint8Array {\n  const binaryString = atob(base64);\n  const length = binaryString.length;\n  const uint8Array = new Uint8Array(length);\n\n  for (let i = 0; i < length; i++) {\n    uint8Array[i] = binaryString.charCodeAt(i);\n  }\n\n  return uint8Array;\n}\n\nclass RTAudioContent {\n  public type: \"audio\" = \"audio\";\n\n  public itemId: string;\n  public contentIndex: number;\n  private part: ResponseItemAudioContentPart;\n  private contentQueue: SharedEndQueue<ServerMessageType | null>;\n\n  private constructor(\n    message: ResponseContentPartAddedMessage,\n    private queue: MessageQueueWithError<ServerMessageType>,\n  ) {\n    this.itemId = message.item_id;\n    this.contentIndex = message.content_index;\n    if (message.part.type !== \"audio\") {\n      throw new Error(\"Unexpected part type\");\n    }\n    this.part = message.part;\n    this.contentQueue = new SharedEndQueue(\n      () => this.receiveContent(),\n      (m) => m !== null && m.type === \"error\",\n      (m) => m !== null && m.type === \"response.content_part.done\",\n    );\n  }\n\n  static create(\n    message: ResponseContentPartAddedMessage,\n    queue: MessageQueueWithError<ServerMessageType>,\n  ): RTAudioContent {\n    return new RTAudioContent(message, queue);\n  }\n\n  get transcript(): Optional<string> {\n    return this.part.transcript;\n  }\n\n  private receiveContent(): Promise<ServerMessageType | null> {\n    function isValidMessage(\n      m: ServerMessageType,\n    ): m is\n      | ResponseAudioDeltaMessage\n      | ResponseAudioDoneMessage\n      | ResponseAudioTranscriptDeltaMessage\n      | ResponseAudioTranscriptDoneMessage\n      | ResponseContentPartDoneMessage {\n      return [\n        \"response.audio.delta\",\n        \"response.audio.done\",\n        \"response.audio_transcript.delta\",\n        \"response.audio_transcript.done\",\n        \"response.content_part.done\",\n      ].includes(m.type);\n    }\n    return this.queue.receive(\n      (m) =>\n        isValidMessage(m) &&\n        m.item_id === this.itemId &&\n        m.content_index === this.contentIndex,\n    );\n  }\n\n  async *audioChunks(): AsyncIterable<Uint8Array> {\n    while (true) {\n      const message = await this.contentQueue.receive(\n        (m) =>\n          m !== null &&\n          [\"response.audio.delta\", \"response.audio.done\"].includes(m.type),\n      );\n      if (message === null) {\n        break;\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"response.content_part.done\") {\n        if (message.part.type !== \"audio\") {\n          throw new Error(\"Unexpected part type\");\n        }\n        this.part = message.part;\n        break;\n      } else if (message.type === \"response.audio.delta\") {\n        const buffer = decodeBase64(message.delta);\n        yield buffer;\n      } else if (message.type === \"response.audio.done\") {\n        // We are skipping this as it's information is already provided by 'response.content_part.done'\n        // and that is a better signal to end the iteration\n        continue;\n      }\n    }\n  }\n\n  async *transcriptChunks(): AsyncIterable<string> {\n    while (true) {\n      const message = await this.contentQueue.receive(\n        (m) =>\n          m !== null &&\n          [\n            \"response.audio_transcript.delta\",\n            \"response.audio_transcript.done\",\n          ].includes(m.type),\n      );\n      if (message === null) {\n        break;\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"response.content_part.done\") {\n        if (message.part.type !== \"audio\") {\n          throw new Error(\"Unexpected part type\");\n        }\n        this.part = message.part;\n        break;\n      } else if (message.type === \"response.audio_transcript.delta\") {\n        yield message.delta;\n      } else if (message.type === \"response.audio_transcript.done\") {\n        // We are skipping this as it's information is already provided by 'response.content_part.done'\n        // and that is a better signal to end the iteration\n        continue;\n      }\n    }\n  }\n}\n\nexport type { RTAudioContent };\n\nclass RTTextContent {\n  public type: \"text\" = \"text\";\n\n  public itemId: string;\n  public contentIndex: number;\n  private part: ResponseItemTextContentPart;\n\n  private constructor(\n    message: ResponseContentPartAddedMessage,\n    private queue: MessageQueueWithError<ServerMessageType>,\n  ) {\n    this.itemId = message.item_id;\n    this.contentIndex = message.content_index;\n    if (message.part.type !== \"text\") {\n      throw new Error(\"Unexpected part type\");\n    }\n    this.part = message.part;\n  }\n\n  static create(\n    message: ResponseContentPartAddedMessage,\n    queue: MessageQueueWithError<ServerMessageType>,\n  ) {\n    return new RTTextContent(message, queue);\n  }\n\n  get text(): string {\n    return this.part.text;\n  }\n\n  async *textChunks(): AsyncIterable<string> {\n    while (true) {\n      const message = await this.queue.receive(\n        (m) =>\n          (m.type === \"response.content_part.done\" ||\n            m.type === \"response.text.delta\" ||\n            m.type === \"response.text.done\") &&\n          m.item_id === this.itemId &&\n          m.content_index === this.contentIndex,\n      );\n      if (message === null) {\n        break;\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"response.content_part.done\") {\n        if (message.part.type !== \"text\") {\n          throw new Error(\"Unexpected part type\");\n        }\n        this.part = message.part;\n        break;\n      } else if (message.type === \"response.text.delta\") {\n        yield message.delta;\n      } else if (message.type === \"response.text.done\") {\n        // We are skipping this as it's information is already provided by 'response.content_part.done'\n        // and that is a better signal to end the iteration\n        continue;\n      }\n    }\n  }\n}\n\nexport type { RTTextContent };\n\nexport type RTMessageContent = RTAudioContent | RTTextContent;\n\nclass RTMessageItem implements AsyncIterable<RTMessageContent> {\n  public type: \"message\" = \"message\";\n\n  private constructor(\n    public responseId: string,\n    private item: ResponseMessageItem,\n    public previousItemId: Optional<string>,\n    private queue: MessageQueueWithError<ServerMessageType>,\n  ) { }\n\n  static create(\n    responseId: string,\n    item: ResponseMessageItem,\n    previousItemId: Optional<string>,\n    queue: MessageQueueWithError<ServerMessageType>,\n  ): RTMessageItem {\n    return new RTMessageItem(responseId, item, previousItemId, queue);\n  }\n\n  get id(): string {\n    return this.item.id!;\n  }\n\n  get role(): MessageRole {\n    return this.item.role;\n  }\n\n  get status(): ResponseItemStatus {\n    return this.item.status;\n  }\n\n  async *[Symbol.asyncIterator]() {\n    while (true) {\n      const message = await this.queue.receive(\n        (m) =>\n          (m.type === \"response.content_part.added\" && m.item_id === this.id) ||\n          (m.type === \"response.output_item.done\" && m.item.id === this.id),\n      );\n      if (message === null) {\n        break;\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"response.output_item.done\") {\n        if (message.item.type === \"message\") {\n          this.item = message.item;\n        } else {\n          throw new Error(\"Unexpected item type\");\n        }\n        break;\n      } else if (message.type === \"response.content_part.added\") {\n        if (message.part.type === \"audio\") {\n          yield RTAudioContent.create(message, this.queue);\n        } else if (message.part.type === \"text\") {\n          yield RTTextContent.create(message, this.queue);\n        } else {\n          throw new Error(`Unexpected part type: ${message.part.type}`);\n        }\n      } else {\n        throw new Error(`Unexpected message type: ${message.type}`);\n      }\n    }\n  }\n}\n\nexport type { RTMessageItem };\n\nclass RTFunctionCallItem implements AsyncIterable<string> {\n  public type: \"function_call\" = \"function_call\";\n  private awaited: boolean = false;\n  private iterated: boolean = false;\n\n  private constructor(\n    public responseId: string,\n    private item: ResponseFunctionCallItem,\n    public previousItemId: Optional<string>,\n    private queue: MessageQueueWithError<ServerMessageType>,\n  ) { }\n\n  static create(\n    responseId: string,\n    item: ResponseFunctionCallItem,\n    previousItemId: Optional<string>,\n    queue: MessageQueueWithError<ServerMessageType>,\n  ): RTFunctionCallItem {\n    return new RTFunctionCallItem(responseId, item, previousItemId, queue);\n  }\n\n  get id(): string {\n    return this.item.id!;\n  }\n\n  get functionName(): string {\n    return this.item.name;\n  }\n\n  get callId(): string {\n    return this.item.call_id;\n  }\n\n  get arguments(): string {\n    return this.item.arguments;\n  }\n\n  private async *inner(): AsyncIterable<string> {\n    while (true) {\n      const message = await this.queue.receive(\n        (m) =>\n          ((m.type == \"response.function_call_arguments.delta\" ||\n            m.type == \"response.function_call_arguments.done\") &&\n            m.item_id === this.id) ||\n          (m.type === \"response.output_item.done\" && m.item.id === this.id),\n      );\n      if (message === null) {\n        break;\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"response.output_item.done\") {\n        if (message.item.type === \"function_call\") {\n          this.item = message.item;\n          break;\n        } else {\n          throw new Error(\"Unexpected item type\");\n        }\n      } else if (message.type === \"response.function_call_arguments.delta\") {\n        yield message.delta;\n      } else if (message.type === \"response.function_call_arguments.done\") {\n        continue;\n      } else {\n        throw new Error(`Unexpected message type: ${message.type}`);\n      }\n    }\n  }\n\n  async *[Symbol.asyncIterator](): AsyncIterator<string> {\n    if (this.awaited) {\n      throw new Error(\"Cannot iterate after awaiting.\");\n    }\n    this.iterated = true;\n    return this.inner();\n  }\n\n  async waitForCompletion(): Promise<void> {\n    if (this.iterated) {\n      throw new Error(\"Cannot await after iterating.\");\n    }\n    this.awaited = true;\n    for await (const _ of this.inner()) {\n      // consume the remaining items\n    }\n  }\n}\n\nexport type { RTFunctionCallItem };\n\ntype RTOutputItem = RTMessageItem | RTFunctionCallItem;\n\nexport function isMessageItem(item: RTOutputItem): item is RTMessageItem {\n  return item.type === \"message\";\n}\n\nexport function isFunctionCallItem(\n  item: RTOutputItem,\n): item is RTFunctionCallItem {\n  return item.type === \"function_call\";\n}\n\nclass RTResponse implements AsyncIterable<RTOutputItem> {\n  public type: \"response\" = \"response\";\n  private done: boolean = false;\n\n  private constructor(\n    private response: Response,\n    private queue: MessageQueueWithError<ServerMessageType>,\n    private client: LowLevelRTClient,\n  ) { }\n\n  static create(\n    response: Response,\n    queue: MessageQueueWithError<ServerMessageType>,\n    client: LowLevelRTClient,\n  ): RTResponse {\n    return new RTResponse(response, queue, client);\n  }\n\n  get id(): string {\n    return this.response.id;\n  }\n\n  get status(): ResponseStatus {\n    return this.response.status;\n  }\n\n  get statusDetails(): Optional<ResponseStatusDetails> {\n    return this.response.status_details;\n  }\n\n  get output(): ResponseItem[] {\n    return this.response.output;\n  }\n\n  get usage(): Optional<Usage> {\n    return this.response.usage;\n  }\n\n  async cancel(): Promise<void> {\n    await this.client.send({\n      type: \"response.cancel\",\n    });\n    for await (const _ of this) {\n    }\n    // consume the remaining items\n  }\n\n  [Symbol.asyncIterator](): AsyncIterator<RTOutputItem> {\n    return {\n      next: async (): Promise<IteratorResult<RTOutputItem>> => {\n        if (this.done) {\n          return { value: undefined, done: true };\n        }\n        const message = await this.queue.receive(\n          (m) =>\n            (m.type === \"response.done\" && m.response.id === this.id) ||\n            (m.type === \"response.output_item.added\" &&\n              m.response_id === this.id),\n        );\n        if (message === null) {\n          return { value: undefined, done: true };\n        } else if (message.type === \"error\") {\n          throw new RTError(message.error);\n        } else if (message.type === \"response.done\") {\n          this.done = true;\n          this.response = message.response;\n          return { value: undefined, done: true };\n        } else if (message.type === \"response.output_item.added\") {\n          const created_message = await this.queue.receive(\n            (m) =>\n              m.type === \"conversation.item.created\" &&\n              m.item.id === message.item.id,\n          );\n          if (created_message === null) {\n            return { value: undefined, done: true };\n          } else if (created_message.type === \"error\") {\n            throw new RTError(created_message.error);\n          } else if (created_message.type === \"conversation.item.created\") {\n            if (created_message.item.type === \"message\") {\n              const messageItem = RTMessageItem.create(\n                this.id,\n                created_message.item,\n                created_message.previous_item_id,\n                this.queue,\n              );\n              return { value: messageItem, done: false };\n            } else if (created_message.item.type === \"function_call\") {\n              const functionCallItem = RTFunctionCallItem.create(\n                this.id,\n                created_message.item,\n                created_message.previous_item_id,\n                this.queue,\n              );\n              return { value: functionCallItem, done: false };\n            } else {\n              throw new Error(\n                `Unexpected item type (${created_message.item.type}.`,\n              );\n            }\n          } else {\n            throw new Error(`Unexpected message type: ${created_message.type}`);\n          }\n        } else {\n          throw new Error(`Unexpected message type: ${message.type}`);\n        }\n      },\n    };\n  }\n}\n\nexport type { RTResponse };\n\nexport class RTClient {\n  private client: LowLevelRTClient;\n  private messageQueue: MessageQueueWithError<ServerMessageType>;\n  private messagesIterable: AsyncIterator<ServerMessageType>;\n  public session: Session | undefined;\n\n  private initPromise: Promise<void> | undefined;\n  private iterating: boolean = false;\n\n  constructor(credential: KeyCredential, options: RTOpenAIOptions);\n  constructor(\n    uri: URL,\n    credential: KeyCredential | TokenCredential,\n    options: RTAzureOpenAIOptions | RTVoiceAgentOptions,\n  );\n  constructor(\n    uriOrCredential: URL | KeyCredential,\n    credentialOrOptions: KeyCredential | TokenCredential | RTOpenAIOptions,\n    options?: RTAzureOpenAIOptions | RTVoiceAgentOptions,\n  ) {\n    this.client = (() => {\n      if (isKeyCredential(uriOrCredential)) {\n        return new LowLevelRTClient(\n          uriOrCredential,\n          credentialOrOptions as RTOpenAIOptions,\n        );\n      } else {\n        return new LowLevelRTClient(\n          uriOrCredential as URL,\n          credentialOrOptions as KeyCredential | TokenCredential,\n          options as RTAzureOpenAIOptions | RTVoiceAgentOptions,\n        );\n      }\n    })();\n    this.messagesIterable = this.client.messages()[Symbol.asyncIterator]();\n    this.messageQueue = new MessageQueueWithError<ServerMessageType>(\n      () => this.receiveMessages(),\n      (m) => m.type === \"error\",\n    );\n  }\n\n  private async receiveMessages(): Promise<ServerMessageType | null> {\n    const result = await this.messagesIterable.next();\n    return result.done ? null : result.value;\n  }\n\n  get requestId(): string | undefined {\n    return this.client.requestId;\n  }\n\n  init(): Promise<void> {\n    if (this.initPromise !== undefined) {\n      return this.initPromise;\n    }\n    this.initPromise = (async () => {\n      if (this.session !== undefined) {\n        return;\n      }\n      const message = await this.messageQueue.receive(\n        (m) => m.type === \"session.created\",\n      );\n      if (message === null) {\n        throw new Error(\"Failed to initialize session\");\n      }\n      if (message.type === \"error\") {\n        throw new RTError(message.error);\n      }\n      if (message.type !== \"session.created\") {\n        throw new Error(\"Unexpected message type\");\n      }\n      this.session = message.session;\n    })();\n    return this.initPromise;\n  }\n\n  async configure(params: SessionUpdateParams): Promise<Session> {\n    await this.init();\n    await this.client.send({\n      type: \"session.update\",\n      session: params,\n    });\n    const message = await this.messageQueue.receive(\n      (m) => m.type === \"session.updated\",\n    );\n    if (message === null) {\n      throw new Error(\"Failed to update session\");\n    }\n    if (message.type === \"error\") {\n      throw new RTError(message.error);\n    }\n    if (message.type !== \"session.updated\") {\n      throw new Error(\"Unexpected message type\");\n    }\n    this.session = message.session;\n    return this.session;\n  }\n\n  async sendAudio(audio: Uint8Array): Promise<void> {\n    await this.init();\n    const base64 = btoa(String.fromCharCode(...audio));\n    await this.client.send({\n      type: \"input_audio_buffer.append\",\n      audio: base64,\n    });\n  }\n\n  async commitAudio(): Promise<RTInputAudioItem> {\n    await this.init();\n    await this.client.send({ type: \"input_audio_buffer.commit\" });\n    const message = await this.messageQueue.receive(\n      (m) => m.type === \"input_audio_buffer.committed\",\n    );\n    if (message === null) {\n      throw new Error(\"Failed to commit audio\");\n    } else if (message.type === \"error\") {\n      throw new RTError(message.error);\n    } else if (message.type === \"input_audio_buffer.committed\") {\n      return RTInputAudioItem.create(\n        message.item_id,\n        undefined,\n        this.session?.input_audio_transcription !== undefined &&\n        this.session?.input_audio_transcription !== null,\n        this.messageQueue,\n      );\n    } else {\n      throw new Error(\"Unexpected message type\");\n    }\n  }\n\n  async clearAudio(): Promise<void> {\n    await this.init();\n    await this.client.send({ type: \"input_audio_buffer.clear\" });\n    const message = await this.messageQueue.receive(\n      (m) => m.type === \"input_audio_buffer.cleared\",\n    );\n    if (message === null) {\n      throw new Error(\"Failed to clear audio\");\n    } else if (message.type === \"error\") {\n      throw new RTError(message.error);\n    } else if (message.type !== \"input_audio_buffer.cleared\") {\n      throw new Error(\"Unexpected message type\");\n    }\n  }\n\n  async connectAvatar(client_sdp: RTCSessionDescription): Promise<RTCSessionDescription> {\n    await this.init();\n    const base64 = btoa(JSON.stringify(client_sdp));\n    await this.client.send({\n      type: \"session.avatar.connect\",\n      client_sdp: base64,\n    });\n    const message = await this.messageQueue.receive(\n      (m) => m.type === \"session.avatar.connecting\",\n    );\n    if (message === null) {\n      throw new Error(\"Failed to connect avatar\");\n    } else if (message.type === \"error\") {\n      throw new RTError(message.error);\n    } else if (message.type === \"session.avatar.connecting\") {\n      return new RTCSessionDescription(\n        JSON.parse(atob(message.server_sdp)) as RTCSessionDescriptionInit,\n      );\n    } else {\n      throw new Error(\"Unexpected message type\");\n    }\n  }\n\n  async sendItem(item: Item, previousItemId?: string): Promise<ResponseItem> {\n    await this.init();\n    item.id = item.id || generateId(\"item\", 32);\n    await this.client.send({\n      type: \"conversation.item.create\",\n      previous_item_id: previousItemId,\n      item,\n    });\n    const message = await this.messageQueue.receive(\n      (m) => m.type === \"conversation.item.created\" && m.item.id === item.id,\n    );\n    if (message === null) {\n      throw new Error(\"Failed to create item\");\n    } else if (message.type === \"error\") {\n      throw new RTError(message.error);\n    } else if (message.type === \"conversation.item.created\") {\n      return message.item;\n    } else {\n      throw new Error(\"Unexpected message type\");\n    }\n  }\n\n  async removeItem(itemId: string): Promise<void> {\n    await this.init();\n    await this.client.send({\n      type: \"conversation.item.delete\",\n      item_id: itemId,\n    });\n    const message = await this.messageQueue.receive(\n      (m) => m.type === \"conversation.item.deleted\" && m.item_id === itemId,\n    );\n    if (message === null) {\n      throw new Error(\"Failed to delete item\");\n    } else if (message.type === \"error\") {\n      throw new RTError(message.error);\n    } else if (message.type === \"conversation.item.deleted\") {\n      return;\n    } else {\n      throw new Error(\"Unexpected message type\");\n    }\n  }\n\n  async generateResponse(): Promise<RTResponse | undefined> {\n    await this.init();\n    await this.client.send({ type: \"response.create\" });\n    if (!this.iterating) {\n      const message = await this.messageQueue.receive(\n        (m) => m.type === \"response.created\",\n      );\n      if (message === null) {\n        throw new Error(\"Failed to create response\");\n      } else if (message.type === \"error\") {\n        throw new RTError(message.error);\n      } else if (message.type === \"response.created\") {\n        return RTResponse.create(\n          message.response,\n          this.messageQueue,\n          this.client,\n        );\n      }\n      throw new Error(\"Unexpected message type\");\n    }\n    return undefined;\n  }\n\n  async *events(): AsyncIterable<RTInputAudioItem | RTResponse> {\n    // TODO: Add the updated quota message as a control type of event.\n    try {\n      this.iterating = true;\n      while (true) {\n        const message = await this.messageQueue.receive(\n          (m) =>\n            m.type === \"input_audio_buffer.speech_started\" ||\n            m.type === \"response.created\",\n        );\n        if (message === null) {\n          break;\n        } else if (message.type === \"error\") {\n          throw new RTError(message.error);\n        } else if (message.type === \"input_audio_buffer.speech_started\") {\n          const input_audio_item = RTInputAudioItem.create(\n            message.item_id,\n            message.audio_start_ms,\n            this.session?.input_audio_transcription !== undefined &&\n            this.session?.input_audio_transcription !== null,\n            this.messageQueue,\n          );\n          yield input_audio_item;\n          await input_audio_item.waitForCompletion();\n        } else if (message.type === \"response.created\") {\n          yield RTResponse.create(\n            message.response,\n            this.messageQueue,\n            this.client,\n          );\n        } else {\n          throw new Error(\"Unexpected message type\");\n        }\n      }\n    } finally {\n      this.iterating = false;\n    }\n  }\n\n  async close(): Promise<void> {\n    await this.client.close();\n  }\n}\n"],"names":["require$$0","bufferUtilModule","bufferUtil","require$$1","require$$2","require$$3","validationModule","require$$4","require$$5","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$6","require$$7"],"mappings":"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","x_google_ignoreList":[1,3,4,5,6,7,8,9,10,11,12,13,14]}